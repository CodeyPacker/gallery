{"version":3,"sources":["scripts/gallery.js"],"names":["Gallery","gallery","Error","images","Array","from","querySelectorAll","modal","document","querySelector","prevButton","nextButton","currentImage","openModal","matches","classList","add","window","addEventListener","handleKeyUp","showNextImage","showPrevImage","closeModal","remove","removeEventListener","handleClickOutside","e","target","currentTarget","key","showImage","nextElementSibling","firstElementChild","previousElementSibling","lastElementChild","el","console","info","src","textContent","title","dataset","description","forEach","image","gallery1","gallery2"],"mappings":"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","file":"gallery.61d82d0d.js","sourceRoot":"..","sourcesContent":["function Gallery(gallery) {\n  if (!gallery) {\n    throw new Error('Gallery not found!');\n  }\n\n  // select the elements we need\n  const images = Array.from(gallery.querySelectorAll('img'));\n  const modal = document.querySelector('.modal');\n  const prevButton = modal.querySelector('.prev');\n  const nextButton = modal.querySelector('.next');\n  let currentImage;\n\n  function openModal() {\n    // first check if modal is already open\n    if (modal.matches('.open')) {\n      return; // stop function from running\n    }\n\n    modal.classList.add('open');\n\n    // Event listeners to be bound when modal is opened\n    window.addEventListener('keyup', handleKeyUp);\n    nextButton.addEventListener('click', showNextImage);\n    prevButton.addEventListener('click', showPrevImage);\n  }\n\n  function closeModal() {\n    modal.classList.remove('open');\n    // cleanup listeners. these only need to exist when a modal is open\n    window.removeEventListener('keyup', handleKeyUp);\n    nextButton.removeEventListener('click', showNextImage);\n    prevButton.removeEventListener('click', showPrevImage);\n  }\n\n  function handleClickOutside(e) {\n    if (e.target === e.currentTarget) {\n      closeModal();\n    }\n  }\n\n  function handleKeyUp(e) {\n    // adding a return prevents the function from checking each key\n    if (e.key === 'Escape') return closeModal();\n    if (e.key === 'ArrowRight') return showNextImage();\n    if (e.key === 'ArrowLeft') return showPrevImage();\n  }\n\n  function showNextImage() {\n    // If there are no more images, go back to the first image\n    showImage(currentImage.nextElementSibling ||\n      gallery.firstElementChild);\n  }\n\n  function showPrevImage() {\n    showImage(currentImage.previousElementSibling ||\n      gallery.lastElementChild);\n  }\n\n  function showImage(el) {\n    if (!el) { // safety net\n      console.info('no image to show');\n      return;\n    }\n\n    // update the modal with this info\n    modal.querySelector('img').src = el.src;\n    modal.querySelector('h2').textContent = el.title;\n    modal.querySelector('figure p').textContent = el.dataset.description;\n    currentImage = el;\n    openModal();\n  }\n\n  // All event listeners\n  images.forEach(image => image.addEventListener('click', e => showImage(e.currentTarget)));\n\n  images.forEach(image => {\n    image.addEventListener('keyup', e => {\n      if(e.key === 'Enter') {\n        showImage(e.currentTarget);\n      }\n    });\n  });\n\n  modal.addEventListener('click', handleClickOutside);\n}\n\n\nconst gallery1 = Gallery(document.querySelector('.gallery1'));\nconst gallery2 = Gallery(document.querySelector('.gallery2'));"]}